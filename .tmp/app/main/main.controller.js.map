{"version":3,"sources":["../../../client/app/main/main.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CACtB,UAAU,CAAC,UAAU,EAAE,UAAU,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE;AAClF,QAAM,CAAC,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,OAAO,IAAI,OAAO,CAAC,CAAC;AACzE,QAAM,CAAC,IAAI,GAAI,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,IAAI,gBAAgB,AAAC,CAAC;AAC5D,QAAM,CAAC,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC;AAClE,QAAM,CAAC,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC;;AAE9D,QAAM,CAAC,IAAI,GAAG,MAAM,CAAC;AACrB,QAAM,CAAC,IAAI,GAAG,kDAAkD,CAAC;;AAEjE,QAAM,CAAC,MAAM,GAAG,OAAO,CAAC,WAAW,CAAC;AACpC,QAAM,CAAC,MAAM,GAAG,CACd;AACE,QAAI,EAAC,qCAAqC;AAC1C,QAAI,EAAE,mBAAmB;GAC1B,CACF,CAAC;;AAEF,QAAM,CAAC,SAAS,GAAG,CACjB;AACE,QAAI,EAAC,OAAO;AACZ,QAAI,EAAE,OAAO;GACd,EACD;AACE,QAAI,EAAC,QAAQ;AACb,QAAI,EAAE,QAAQ;GACf,EACD;AACE,QAAI,EAAC,kBAAkB;AACvB,QAAI,EAAE,oBAAoB;GAC3B,EACD;AACE,QAAI,EAAC,OAAO;AACZ,QAAI,EAAE,OAAO;GACd,EACD;AACE,QAAI,EAAC,UAAU;AACf,QAAI,EAAE,UAAU;GACjB,EACD;AACE,QAAI,EAAC,MAAM;AACX,QAAI,EAAE,MAAM;GACb,EACD;AACE,QAAI,EAAC,UAAU;AACf,QAAI,EAAE,UAAU;GACjB,CACF,CAAC;AACF,QAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;AAC7B,MAAI,MAAM,GAAG;AACX,WAAO,EAAC;AACN,oBAAc,EAAE,+BAA+B;AAC/C,cAAQ,EAAE,gCAAgC;KAC3C;GACF,CAAC;AACF,MAAI,MAAM,CAAC,IAAI,KAAK,KAAK,EAAC;AACxB,QAAI,MAAM,CAAC,MAAM,KAAK,OAAO,EAAC;AAC5B,YAAM,CAAC,IAAI,GAAG,qCAAqC,CAAC;AACpD,YAAM,CAAC,IAAI,GAAG,wBAAwB,CAAC;;AAEvC,WAAK,CAAC,GAAG,CAAC,kEAAkE,EAAC,MAAM,CAAE,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AAC5G,cAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;AAE9D,aAAK,CAAC,GAAG,CAAC,oEAAoE,EAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AAC3G,gBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9D,eAAK,CAAC,GAAG,CAAC,4EAA4E,EAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AACnH,kBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;WACjE,CAAC,CAAC;SACN,CAAC,CAAC;OAGJ,CAAC,CAAC;KACJ,MACI,IAAI,MAAM,CAAC,MAAM,KAAK,QAAQ,EAAC;AAClC,YAAM,CAAC,IAAI,GAAG,2DAA2D,CAAC;AAC1E,YAAM,CAAC,IAAI,GAAG,2BAA2B,CAAC;;AAE1C,WAAK,CAAC,GAAG,CAAC,kEAAkE,EAAC,MAAM,CAAE,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AAC5G,cAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;OAC/D,CAAC,CAAC;KACJ,MACI,IAAI,MAAM,CAAC,MAAM,KAAK,OAAO,EAAC;AACjC,YAAM,CAAC,IAAI,GAAG,wBAAwB,CAAC;;AAEvC,YAAM,CAAC,IAAI,GAAG,uDAAuD,CAAC;AACtE,WAAK,CAAC,GAAG,CAAC,8DAA8D,EAAE,MAAM,CAAE,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;;;;;;AACzG,+BAAiB,QAAQ,CAAC,IAAI,8HAAC;gBAAtB,IAAI;;AACX,kBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;WAEpC;;;;;;;;;;;;;;;OACF,CAAC,CAAC;KACJ,MACI,IAAI,MAAM,CAAC,MAAM,KAAK,kBAAkB,EAAC;AAC5C,YAAM,CAAC,IAAI,GAAG,qCAAqC,CAAC;AACpD,YAAM,CAAC,IAAI,GAAG,qEAAqE,CAAC;;;;;;;AAOtF,WAAK,CAAC,GAAG,CAAC,4EAA4E,EAAC,MAAM,CAAE,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AACtH,cAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;OAC/D,CAAC,CAAC;KAGF,MACI,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,EAAC;AAChC,YAAM,CAAC,IAAI,GAAG,uBAAuB,CAAC;;AAEtC,YAAM,CAAC,IAAI,GAAG,sDAAsD,CAAC;;AAErE,WAAK,CAAC,GAAG,CAAC,6DAA6D,EAAE,MAAM,CAAE,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;;;;;;AACxG,gCAAiB,QAAQ,CAAC,IAAI,mIAAC;gBAAtB,IAAI;;AACX,kBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;WACpC;;;;;;;;;;;;;;;OACF,CAAC,CAAC;KACJ,MACI,IAAI,MAAM,CAAC,MAAM,KAAK,UAAU,EAAC;AACpC,YAAM,CAAC,IAAI,GAAG,2BAA2B,CAAC;;AAE1C,YAAM,CAAC,IAAI,GAAG,0DAA0D,CAAC;;AAEzE,WAAK,CAAC,GAAG,CAAC,iEAAiE,EAAE,MAAM,CAAE,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;;;;;;AAC5G,gCAAiB,QAAQ,CAAC,IAAI,mIAAC;gBAAtB,IAAI;;;AAEX,gBAAI,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC;AAChL,oBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACpC;WACF;;;;;;;;;;;;;;;OACF,CAAC,CAAC;KACJ,MACI,IAAI,MAAM,CAAC,MAAM,KAAK,UAAU,EAAC;AACpC,YAAM,CAAC,IAAI,GAAG,2BAA2B,CAAC;;AAE1C,YAAM,CAAC,IAAI,GAAG,0DAA0D,CAAC;;AAEzE,WAAK,CAAC,GAAG,CAAC,iEAAiE,EAAE,MAAM,CAAE,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;;;;;;AAC5G,gCAAiB,QAAQ,CAAC,IAAI,mIAAC;gBAAtB,IAAI;;AACX,kBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;WACpC;;;;;;;;;;;;;;;OACF,CAAC,CAAC;KACJ;GACF,MACG;;AACF,UAAM,CAAC,IAAI,GAAG,kDAAkD,GAAC,MAAM,CAAC,IAAI,CAAC;;AAE3E,QAAI,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAC;AAClD,YAAM,GAAG;AACP,eAAO,EAAC;AACN,wBAAc,EAAE,+BAA+B;AAC/C,kBAAQ,EAAE,+BAA+B;SAC1C;AACD,oBAAY,EAAG,aAAa;OAC7B,CAAC;;AAEF,WAAK,CAAC,GAAG,CAAC,yDAAyD,GAAC,MAAM,CAAC,IAAI,EAAG,MAAM,CAAC,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AAChH,cAAM,CAAC,IAAI,GAAG,KAAK,CAAC;AACpB,YAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAE,QAAQ,CAAC,IAAI,CAAE,EAAE,EAAC,IAAI,EAAE,iBAAiB,EAAC,CAAC,CAAC;AAClE,YAAI,OAAO,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;;AAExC,cAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC;OAChE,EAAE,SAAS,aAAa,CAAC,QAAQ,EAAE;;;AAGlC,YAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAC;;;AAG1B,eAAK,CAAC,GAAG,CAAC,0DAA0D,GAAC,MAAM,CAAC,GAAG,EAAG,MAAM,CAAC,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AAChH,kBAAM,CAAC,IAAI,GAAG,KAAK,CAAC;AACpB,gBAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAE,QAAQ,CAAC,IAAI,CAAE,EAAE,EAAC,IAAI,EAAE,iBAAiB,EAAC,CAAC,CAAC;AAClE,gBAAI,OAAO,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;;AAExC,kBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC;WAChE,CAAC,CAAC;SACJ;;;OAGF,CAAC,CAAC;KACJ,MACI,IAAI,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAC;AACtD,aAAK,CAAC,GAAG,CAAC,yDAAyD,GAAC,MAAM,CAAC,IAAI,EAAG,MAAM,CAAC,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;;AAEhH,gBAAM,CAAC,IAAI,GAAG,MAAM,CAAC;AACrB,gBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;SAC/D,CAAC,CAAC;OACJ,MACG;AACF,aAAK,CAAC,GAAG,CAAC,yDAAyD,GAAC,MAAM,CAAC,IAAI,EAAG,MAAM,CAAC,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;;AAEhH,gBAAM,CAAC,IAAI,GAAG,MAAM,CAAC;AACrB,gBAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;SAC/D,CAAC,CAAC;OACJ;GAGJ;;AAED,QAAM,CAAC,WAAW,GAAG,UAAS,IAAI,EAAE;;;AAGhC,aAAS,CAAC,MAAM,CAAC,MAAM,EAAC,SAAS,CAAC,CAAC,MAAM,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACtF,CAAC;AACF,QAAM,CAAC,OAAO,GAAG,YAAW;;AAExB,aAAS,CAAC,GAAG,CAAC,YAAY,GAAC,MAAM,CAAC,MAAM,CAAC,CAAC;GAC7C,CAAC;CAEH,CAAC,CAAC","file":"main.controller.js","sourcesContent":["'use strict';\n\nangular.module('itosApp')\n  .controller('MainCtrl', function ($scope, $http, $location, $base64, $sce, $window) {\n    $scope.active = angular.lowercase($location.search().content || 'about');\n    $scope.page = ($location.search().page || 'Course Content');\n    $scope.mode = angular.lowercase($location.search().mode || 'nav');\n    $scope.sha = angular.lowercase($location.search().sha || '0');\n\n    $scope.type = 'html';\n    $scope.link = 'https://github.com/rcos/CSCI2963-01/tree/master/';\n\n    $scope.height = $window.innerHeight;\n    $scope.things = [\n      {\n        link:'https://github.com/rcos/CSCI2963-01',\n        name: 'View it on GitHub'\n      }\n    ];\n\n    $scope.resources = [\n      {\n        link:'about',\n        name: 'About'\n      },\n      {\n        link:'photos',\n        name: 'Photos'\n      },\n      {\n        link:'fall2015projects',\n        name: 'Past Projects 2015'\n      },\n      {\n        link:'howto',\n        name: 'Howto'\n      },\n      {\n        link:'lectures',\n        name: 'Lectures'\n      },\n      {\n        link:'labs',\n        name: 'Labs'\n      },\n      {\n        link:'outlines',\n        name: 'Outlines'\n      }\n    ];\n    $scope.classContentText = [];\n    var config = {\n      headers:{\n        'Content-Type': 'application/vnd.github.v3.raw',\n        'Accept': 'application/vnd.github.v3.html',\n      }\n    };\n    if ($scope.mode === 'nav'){\n      if ($scope.active === 'about'){\n        $scope.link = 'https://github.com/rcos/CSCI2963-01';\n        $scope.page = 'Course Content - About';\n\n        $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/README.md',config ).then(function(response) {\n          $scope.classContentText.push($sce.trustAsHtml(response.data));\n\n          $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Syllabus.md',config).then(function(response) {\n              $scope.classContentText.push($sce.trustAsHtml(response.data));\n              $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Reading-Material.md',config).then(function(response) {\n                  $scope.classContentText.push($sce.trustAsHtml(response.data));\n              });\n          });\n\n\n        });\n      }\n      else if ($scope.active === 'photos'){\n        $scope.link = 'https://github.com/rcos/CSCI2963-01/blob/master/Photos.Md';\n        $scope.page = 'Course Content - Pictures';\n\n        $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Photos.Md',config ).then(function(response) {\n          $scope.classContentText.push($sce.trustAsHtml(response.data));\n        });\n      }\n      else if ($scope.active === 'howto'){\n        $scope.page = 'Course Content - Howto';\n\n        $scope.link = 'https://github.com/rcos/CSCI2963-01/tree/master/Howto';\n        $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Howto', config ).then(function(response) {\n          for( var item of response.data){\n            $scope.classContentText.push(item);\n\n          }\n        });\n      }\n      else if ($scope.active === 'fall2015projects'){\n        $scope.page = 'Course Content - Fall 2015 Projects';\n        $scope.link = 'https://github.com/rcos/CSCI2963-01/tree/master/Fall2015Projects.md';\n        //\n        // $http.get('https://api.github.com/repos/rcos/CSCI2963-01/Fall2015Projects.md',config).then(function(response) {\n        //   console.log(\"response\",response);\n        //     $scope.classContentText.push($sce.trustAsHtml(response.data));\n        // });\n\n      $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Fall2015Projects.md',config ).then(function(response) {\n        $scope.classContentText.push($sce.trustAsHtml(response.data));\n      });\n\n\n      }\n      else if ($scope.active === 'labs'){\n        $scope.page = 'Course Content - Labs';\n\n        $scope.link = 'https://github.com/rcos/CSCI2963-01/tree/master/Labs';\n\n        $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Labs', config ).then(function(response) {\n          for( var item of response.data){\n            $scope.classContentText.push(item);\n          }\n        });\n      }\n      else if ($scope.active === 'lectures'){\n        $scope.page = 'Course Content - Lectures';\n\n        $scope.link = 'https://github.com/rcos/CSCI2963-01/tree/master/Lectures';\n\n        $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Lectures', config ).then(function(response) {\n          for( var item of response.data){\n            // console.log(item);\n            if (angular.lowercase(item.name).endsWith('.pdf') || angular.lowercase(item.name).endsWith('.md') || angular.lowercase(item.name).endsWith('.txt') || item.name.endsWith('.html')){\n              $scope.classContentText.push(item);\n            }\n          }\n        });\n      }\n      else if ($scope.active === 'outlines'){\n        $scope.page = 'Course Content - Outlines';\n\n        $scope.link = 'https://github.com/rcos/CSCI2963-01/tree/master/Outlines';\n\n        $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/Outlines', config ).then(function(response) {\n          for( var item of response.data){\n            $scope.classContentText.push(item);\n          }\n        });\n      }\n    }\n    else{ //details\n      $scope.link = 'https://github.com/rcos/CSCI2963-01/blob/master/'+$scope.page;\n\n        if (angular.lowercase($scope.page).endsWith('.pdf')){\n          config = {\n            headers:{\n              'Content-Type': 'application/vnd.github.v3.raw',\n              'Accept': 'application/vnd.github.v3.raw',\n            },\n            responseType : 'arraybuffer'\n          };\n\n          $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/'+$scope.page , config).then(function(response) {\n            $scope.type = 'pdf';\n            var file = new Blob([(response.data)], {type: 'application/pdf'});\n            var fileURL = URL.createObjectURL(file);\n            // console.log(fileURL);\n            $scope.classContentText.push($sce.trustAsResourceUrl(fileURL));\n          }, function errorCallback(response) {\n            // console.log(response);\n\n            if (response.status === 403){\n              // console.log('response.status == 403');\n\n              $http.get('https://api.github.com/repos/rcos/CSCI2963-01/git/blobs/'+$scope.sha , config).then(function(response) {\n                $scope.type = 'pdf';\n                var file = new Blob([(response.data)], {type: 'application/pdf'});\n                var fileURL = URL.createObjectURL(file);\n                // console.log(fileURL);\n                $scope.classContentText.push($sce.trustAsResourceUrl(fileURL));\n              });\n            }\n            // called asynchronously if an error occurs\n            // or server returns response with an error status.\n          });\n        }\n        else if (angular.lowercase($scope.page).endsWith('.md')){\n          $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/'+$scope.page , config).then(function(response) {\n            // console.log(response.data);\n            $scope.type = 'html';\n            $scope.classContentText.push($sce.trustAsHtml(response.data));\n          });\n        }\n        else{\n          $http.get('https://api.github.com/repos/rcos/CSCI2963-01/contents/'+$scope.page , config).then(function(response) {\n            // console.log(response.data);\n            $scope.type = 'html';\n            $scope.classContentText.push($sce.trustAsHtml(response.data));\n          });\n        }\n\n\n    }\n\n    $scope.goToDetails = function(item) {\n        // console.log(item);\n        // console.log('/?mode=details&content='+$scope.active+'&page='+item.path+'&sha='+item.sha);\n        $location.search('mode','details').search('page',item.path).search('sha',item.sha);\n    };\n    $scope.goToNav = function() {\n        // console.log('/?content='+$scope.active);\n        $location.url('/?content='+$scope.active);\n    };\n\n  });\n"]}